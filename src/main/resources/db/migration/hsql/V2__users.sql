CREATE  TABLE users (
  id INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
  username VARCHAR(450) NOT NULL ,
  password VARCHAR(450) NOT NULL ,
  email VARCHAR(450) NOT NULL ,
  enabled BIT(1) NOT NULL);

CREATE TABLE user_roles (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
    user_id INTEGER NOT NULL,
    role varchar(45) NOT NULL,
    FOREIGN KEY (user_id) REFERENCES users(id));

ALTER TABLE user_roles ADD CONSTRAINT uni_username_role UNIQUE(role,user_id);
